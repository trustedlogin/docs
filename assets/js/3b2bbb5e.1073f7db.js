"use strict";(self.webpackChunktrustedlogin_docs=self.webpackChunktrustedlogin_docs||[]).push([[538],{9252:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>n,default:()=>o,frontMatter:()=>a,metadata:()=>l,toc:()=>h});var s=r(4848),i=r(8453);const a={title:"Server Setup",sidebar:"auto",sidebar_position:2},n="TrustedLogin SaaS Server Setup",l={id:"SaaS/server-setup",title:"Server Setup",description:"The TrustedLogin application is powered by Laravel and run on a Dockerized, high-availability, Kubernetes cluster.",source:"@site/docs/SaaS/server-setup.md",sourceDirName:"SaaS",slug:"/SaaS/server-setup",permalink:"/SaaS/server-setup",draft:!1,unlisted:!1,editUrl:"https://github.com/trustedlogin/docs/edit/main/docs/SaaS/server-setup.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Server Setup",sidebar:"auto",sidebar_position:2},sidebar:"SaaS",previous:{title:"CI/CD",permalink:"/SaaS/CI-CD"},next:{title:"CLI",permalink:"/SaaS/cli"}},d={},h=[{value:"What software powers TrustedLogin?",id:"what-software-powers-trustedlogin",level:2},{value:"Additional information",id:"additional-information",level:2},{value:"Helm",id:"helm",level:3},{value:"Kubernetes",id:"kubernetes",level:3},{value:"Traefik",id:"traefik",level:3},{value:"Hashicorp Vault",id:"hashicorp-vault",level:3},{value:"Velero",id:"velero",level:3},{value:"Laravel Spark",id:"laravel-spark",level:3},{value:"MySQL",id:"mysql",level:3},{value:"Elasticsearch",id:"elasticsearch",level:3},{value:"Redis",id:"redis",level:3}];function c(e){const t={a:"a",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"trustedlogin-saas-server-setup",children:"TrustedLogin SaaS Server Setup"}),"\n",(0,s.jsx)(t.p,{children:"The TrustedLogin application is powered by Laravel and run on a Dockerized, high-availability, Kubernetes cluster."}),"\n",(0,s.jsxs)(t.p,{children:["The application handles account management, profiles, and billing. But most important, it receives and processes requests from the ",(0,s.jsx)(t.a,{href:"/Client/intro",children:"Client SDK"})," and ",(0,s.jsx)(t.a,{href:"/Vendor/intro",children:"TrustedLogin Connector plugin"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"what-software-powers-trustedlogin",children:"What software powers TrustedLogin?"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Software"}),(0,s.jsx)(t.th,{children:"URL"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Helm"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://helm.sh/",children:"https://helm.sh/"})}),(0,s.jsx)(t.td,{children:"Kubernetes deployment"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Docker"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.docker.com/",children:"https://www.docker.com/"})}),(0,s.jsx)(t.td,{children:"Container management"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Kubernetes"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://kubernetes.io/",children:"https://kubernetes.io/"})}),(0,s.jsx)(t.td,{children:"Container orchestration"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Traefik"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://traefik.io/",children:"https://traefik.io/"})}),(0,s.jsx)(t.td,{children:"Load balancing & reverse proxy"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Jetstack Cert Manager"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://github.com/jetstack/cert-manager",children:"https://github.com/jetstack/cert-manager"})}),(0,s.jsx)(t.td,{children:"Kubernetes certificate management"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Laravel"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://laravel.com/",children:"https://laravel.com/"})}),(0,s.jsx)(t.td,{children:"Web application framework"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Laravel Spark"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://spark.laravel.com/",children:"https://spark.laravel.com/"})}),(0,s.jsx)(t.td,{children:"Billing & portal"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Laravel Dusk"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://dusk.laravel.com/",children:"https://dusk.laravel.com/"})}),(0,s.jsx)(t.td,{children:"Acceptance tests"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Guzzle"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://packagist.org/packages/kozz/laravel-guzzle-provider",children:"https://packagist.org/packages/kozz/laravel-guzzle-provider"})}),(0,s.jsx)(t.td,{children:"HTTP client"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Hashicorp Vault"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.vaultproject.io/",children:"https://www.vaultproject.io/"})}),(0,s.jsx)(t.td,{children:"Key management"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Elasticsearch"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.elastic.co/products/elasticsearch",children:"https://www.elastic.co/products/elasticsearch"})}),(0,s.jsx)(t.td,{children:"Log search"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Kibana"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.elastic.co/products/kibana",children:"https://www.elastic.co/products/kibana"})}),(0,s.jsx)(t.td,{children:"Log analysis"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Velero"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://velero.io",children:"https://velero.io"})}),(0,s.jsx)(t.td,{children:"Backup"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"MySQL"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.mysql.com/",children:"https://www.mysql.com/"})}),(0,s.jsx)(t.td,{children:"Database"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Datadog"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.datadoghq.com/",children:"https://www.datadoghq.com/"})}),(0,s.jsx)(t.td,{children:"Log aggregation"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Redis"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://redis.io/",children:"https://redis.io/"})}),(0,s.jsx)(t.td,{children:"Caching"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Prometheus"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://prometheus.io/",children:"https://prometheus.io/"})}),(0,s.jsx)(t.td,{children:"Metrics & alerting"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"additional-information",children:"Additional information"}),"\n",(0,s.jsx)(t.h3,{id:"helm",children:(0,s.jsx)(t.a,{href:"https://github.com/helm/helm",children:"Helm"})}),"\n",(0,s.jsx)(t.p,{children:"The TrustedLogin Kubernetes deployment is structured using Helm."}),"\n",(0,s.jsx)(t.h3,{id:"kubernetes",children:(0,s.jsx)(t.a,{href:"https://kubernetes.io/",children:"Kubernetes"})}),"\n",(0,s.jsxs)(t.p,{children:["The application is hosted on ",(0,s.jsx)(t.a,{href:"https://www.digitalocean.com/products/kubernetes/",children:"managed DigitalOcean Kubernetes"}),' ("DOKS").']}),"\n",(0,s.jsx)(t.h3,{id:"traefik",children:(0,s.jsx)(t.a,{href:"https://traefik.io",children:"Traefik"})}),"\n",(0,s.jsx)(t.p,{children:"Traefik acts as a reverse-proxy load balancer."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Redirects requests from http to https"}),"\n",(0,s.jsx)(t.li,{children:"To restrict access based on IP addresses"}),"\n",(0,s.jsx)(t.li,{children:"Routes traffic various services within Kubernetes account to url requested"}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"hashicorp-vault",children:(0,s.jsx)(t.a,{href:"https://www.vaultproject.io",children:"Hashicorp Vault"})}),"\n",(0,s.jsx)(t.p,{children:"TrustedLogin uses Vault as a key management system. It is configured with three fallback nodes to provide high-availability. Vault is configured to be auto-unsealing."}),"\n",(0,s.jsx)(t.h3,{id:"velero",children:(0,s.jsx)(t.a,{href:"https://velero.io",children:"Velero"})}),"\n",(0,s.jsx)(t.p,{children:"Velero backs up the Kubernetes deployment every six hours to Digital Ocean Spaces. We maintain backups for 3 days (72 hours)."}),"\n",(0,s.jsx)(t.h3,{id:"laravel-spark",children:(0,s.jsx)(t.a,{href:"https://spark.laravel.com",children:"Laravel Spark"})}),"\n",(0,s.jsx)(t.p,{children:"The eCommerce and public-facing UI are powered by Laravel Spark."}),"\n",(0,s.jsx)(t.h3,{id:"mysql",children:(0,s.jsx)(t.a,{href:"https://www.mysql.com",children:"MySQL"})}),"\n",(0,s.jsx)(t.p,{children:"The Laravel Spark database uses Digital Ocean Managed MySQL with High Availability. Account, profile, and and Stripe billing metadata are stored in MySQL."}),"\n",(0,s.jsx)(t.h3,{id:"elasticsearch",children:(0,s.jsx)(t.a,{href:"https://www.elastic.co/products/elasticsearch",children:"Elasticsearch"})}),"\n",(0,s.jsxs)(t.p,{children:["Logs stripped of PII are added to Elasticsearch for later analysis. ",(0,s.jsx)(t.a,{href:"/SaaS/elasticsearch",children:"See Elasticsearch documentation"})," for more information."]}),"\n",(0,s.jsx)(t.h3,{id:"redis",children:(0,s.jsx)(t.a,{href:"https://redis.io/",children:"Redis"})}),"\n",(0,s.jsx)(t.p,{children:"Laravel uses redis as a caching mechanism for temporary data storage to speed up the process of performing database queries and getting feedback, which will, in turn, reduce the amount of time spent pulling up data. Our applicaiton relies on Digital Ocean fully managed redis instance in high availability mode."})]})}function o(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>n,x:()=>l});var s=r(6540);const i={},a=s.createContext(i);function n(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:n(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);