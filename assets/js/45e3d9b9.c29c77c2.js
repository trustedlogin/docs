"use strict";(self.webpackChunktrustedlogin_docs=self.webpackChunktrustedlogin_docs||[]).push([[292],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,h=d["".concat(l,".").concat(m)]||d[m]||p[m]||o;return n?r.createElement(h,i(i({ref:t},c),{},{components:n})):r.createElement(h,i({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var u=2;u<o;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8497:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return c},default:function(){return d}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),i=["components"],s={},l="The Vault SAAS Token",u={unversionedId:"SaaS/vault-sass-token",id:"SaaS/vault-sass-token",isDocsHomePage:!1,title:"The Vault SAAS Token",description:'When accessing Vault, this application uses a special, highly privileged token, we call the "sass token".',source:"@site/docs/SaaS/vault-sass-token.md",sourceDirName:"SaaS",slug:"/SaaS/vault-sass-token",permalink:"/docs/SaaS/vault-sass-token",editUrl:"https://github.com/trustedlogin/docs/edit/main/website/docs/SaaS/vault-sass-token.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Vault API Client",permalink:"/docs/SaaS/vault-client"},next:{title:"Working With Vault",permalink:"/docs/SaaS/vault"}},c=[{value:"Using The SAAS Token",id:"using-the-saas-token",children:[{value:"Resetting The SAAS Token",id:"resetting-the-saas-token",children:[{value:"Links",id:"links",children:[],level:4},{value:"Notes",id:"notes",children:[],level:4}],level:3}],level:2}],p={toc:c};function d(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"the-vault-saas-token"},"The Vault SAAS Token"),(0,o.kt)("p",null,'When accessing Vault, this application uses a special, highly privileged token, we call the "sass token".'),(0,o.kt)("h2",{id:"using-the-saas-token"},"Using The SAAS Token"),(0,o.kt)("p",null,"The SAAS token is stored in the environment variable ",(0,o.kt)("inlineCode",{parentName:"p"},"VAULT_TOKEN"),". In PHP code it can be accessed like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},"$token = env('VAULT_TOKEN')\n")),(0,o.kt)("h3",{id:"resetting-the-saas-token"},"Resetting The SAAS Token"),(0,o.kt)("p",null,"For local development, edit you ",(0,o.kt)("inlineCode",{parentName:"p"},".env")," file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-txt"},"VAULT_TOKEN=trustedlogin\n")),(0,o.kt)("p",null,"To change the SAAS token(s) on the production and testing servers, you must be logged into Platform.sh and have proper permissions to edit environment variables. Edit the ",(0,o.kt)("inlineCode",{parentName:"p"},"env:VAULT_TOKEN"),' varibale. Make sure it is set to be "inheritable" and "sensative".'),(0,o.kt)("p",null,"To change the SAAS token for CI, you must be logged into Travis and have proper permissions to edit environment variables. Edit the ",(0,o.kt)("inlineCode",{parentName:"p"},"VAULT_TOKEN")," variable and do NOT enable the show in log feature."),(0,o.kt)("h4",{id:"links"},"Links"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://console.platform.sh/trustedlogin/xfssqruuoi5as/master/settings/variables"},"Master environment variables settings")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://travis-ci.com/trustedlogin/trusted-login-ecommerce/settings"},"Travis CI environment variable settings")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.platform.sh/development/variables.html#environment-variables"},"Platform.sh Environment Variables Documentation"))),(0,o.kt)("h4",{id:"notes"},"Notes"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Currently only Zack or Josh can do this. Zack can grant access to other users of platform.sh.")))}d.isMDXComponent=!0}}]);