"use strict";(self.webpackChunktrustedlogin_docs=self.webpackChunktrustedlogin_docs||[]).push([[881],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return g}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),p=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=p(e.components);return a.createElement(o.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,s=d(e,["components","mdxType","originalType","parentName"]),u=p(n),k=r,g=u["".concat(o,".").concat(k)]||u[k]||m[k]||l;return n?a.createElement(g,i(i({ref:t},s),{},{components:n})):a.createElement(g,i({ref:t},s))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=k;var d={};for(var o in t)hasOwnProperty.call(t,o)&&(d[o]=t[o]);d.originalType=e,d[u]="string"==typeof e?e:r,i[1]=d;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},7800:function(e,t,n){n.r(t),n.d(t,{assets:function(){return o},contentTitle:function(){return i},default:function(){return m},frontMatter:function(){return l},metadata:function(){return d},toc:function(){return p}});var a=n(3117),r=(n(7294),n(3905));const l={},i="Hooks",d={unversionedId:"Client/hooks",id:"Client/hooks",title:"Hooks",description:"Actions",source:"@site/docs/Client/hooks.md",sourceDirName:"Client",slug:"/Client/hooks",permalink:"/Client/hooks",draft:!1,editUrl:"https://github.com/trustedlogin/docs/edit/main/docs/docs/Client/hooks.md",tags:[],version:"current",frontMatter:{},sidebar:"Client",previous:{title:"User FAQ",permalink:"/Client/faq"},next:{title:"Security Details",permalink:"/Client/security"}},o={},p=[{value:"Actions",id:"actions",level:2},{value:"<code>trustedlogin/{namespace}/logging/log</code>",id:"trustedloginnamespacelogginglog",level:3},{value:"<code>trustedlogin/{namespace}/login/before</code>",id:"trustedloginnamespaceloginbefore",level:3},{value:"<code>trustedlogin/{namespace}/login/refused</code>",id:"trustedloginnamespaceloginrefused",level:3},{value:"<code>trustedlogin/{namespace}/login/error</code>",id:"trustedloginnamespaceloginerror",level:3},{value:"<code>trustedlogin/{namespace}/login/after</code>",id:"trustedloginnamespaceloginafter",level:3},{value:"<code>trustedlogin/{namespace}/access/created</code>",id:"trustedloginnamespaceaccesscreated",level:3},{value:"<code>trustedlogin/{namespace}/access/extended</code>",id:"trustedloginnamespaceaccessextended",level:3},{value:"<code>trustedlogin/{namespace}/access/revoked</code>",id:"trustedloginnamespaceaccessrevoked",level:3},{value:"<code>trustedlogin/{namespace}/logged_in</code>",id:"trustedloginnamespacelogged_in",level:3},{value:"Filters",id:"filters",level:2},{value:"<code>trustedlogin/{namespace}/admin/menu/menu_slug</code>",id:"trustedloginnamespaceadminmenuslug",level:3},{value:"<code>trustedlogin/{namespace}/template/auth</code>",id:"trustedloginnamespacetemplateauth",level:3},{value:"<code>trustedlogin/{namespace}/template/auth/display_reference</code>",id:"trustedloginnamespacetemplateauthdisplay_reference",level:3},{value:"<code>trustedlogin/{namespace}/template/auth/footer_links</code>",id:"trustedloginnamespacetemplateauthfooter_links",level:3},{value:"<code>trustedlogin/{namespace}/support_role</code>",id:"trustedloginnamespacesupport_role",level:3},{value:"<code>trustedlogin/{namespace}/support_role/display_name</code>",id:"trustedloginnamespacesupport_roledisplay_name",level:3},{value:"<code>trustedlogin/{namespace}/license_key</code>",id:"trustedloginnamespacelicense_key",level:3},{value:"<code>trustedlogin/{namespace}/support_url/query_args</code>",id:"trustedloginnamespacesupport_urlquery_args",level:3},{value:"$query_args array value",id:"query_args-array-value",level:4},{value:"<code>trustedlogin/{namespace}/envelope/meta</code>",id:"trustedloginnamespaceenvelopemeta",level:3},{value:"<code>trustedlogin/{namespace}/logging/enabled</code>",id:"trustedloginnamespaceloggingenabled",level:3},{value:"<code>trustedlogin/{namespace}/vendor/public_key/website</code>",id:"trustedloginnamespacevendorpublic_keywebsite",level:3},{value:"<code>trustedlogin/{namespace}/vendor/public_key/endpoint</code>",id:"trustedloginnamespacevendorpublic_keyendpoint",level:3},{value:"\ud83d\uded1 Advanced Internal Use Only",id:"-advanced-internal-use-only",level:2},{value:"\ud83d\udeab You really don&#39;t need these filters! \ud83d\udeab",id:"-you-really-dont-need-these-filters-",level:3},{value:"<code>trustedlogin/{namespace}/meets_ssl_requirement</code>",id:"trustedloginnamespacemeets_ssl_requirement",level:3},{value:"<code>trustedlogin/{namespace}/api_url</code>",id:"trustedloginnamespaceapi_url",level:3},{value:"<code>trustedlogin/{namespace}/vendor_public_key</code>",id:"trustedloginnamespacevendor_public_key",level:3},{value:"<code>trustedlogin/{namespace}/options/endpoint</code>",id:"trustedloginnamespaceoptionsendpoint",level:3}],s={toc:p},u="wrapper";function m(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"hooks"},"Hooks"),(0,r.kt)("h2",{id:"actions"},"Actions"),(0,r.kt)("h3",{id:"trustedloginnamespacelogginglog"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/logging/log")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$message")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Message to log. Pre-processed to convert ",(0,r.kt)("inlineCode",{parentName:"td"},"WP_Error")," and exceptions into strings.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$method")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Method that called the hook.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$level")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"A ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/php-fig/log/blob/master/Psr/Log/LogLevel.php"},"PSR-3 log level")," ('emergency', 'alert', 'critical', 'error', 'warning', 'notice', 'info', 'debug')")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$data")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"array")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Additional error data.")))),(0,r.kt)("h3",{id:"trustedloginnamespaceloginbefore"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/login/before")),(0,r.kt)("p",null,"The support user login flow has begun. ",(0,r.kt)("strong",{parentName:"p"},"This is run before validation.")," If you want to a hook that runs only after successful login, use ",(0,r.kt)("a",{parentName:"p",href:"#trustedloginnamespaceloginafter"},(0,r.kt)("inlineCode",{parentName:"a"},"trustedlogin/{namespace}/login/after"))," instead."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$user_identifier")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"Unique identifier for support user.")))),(0,r.kt)("h3",{id:"trustedloginnamespaceloginrefused"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/login/refused")),(0,r.kt)("p",null,"The identifier fails security checks."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$user_identifier")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"Unique identifier for support user.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$is_verified")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"WP_Error")),(0,r.kt)("td",{parentName:"tr",align:null},"The error encountered when verifying the identifier.")))),(0,r.kt)("p",null,"Can be triggered with the following error codes:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"brute_force_detected"),": Due to the current request triggering brute force checks, the site has entered lockdown mode."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"in_lockdown"),": The site is currently in lockdown mode for a period of time.")),(0,r.kt)("h3",{id:"trustedloginnamespaceloginerror"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/login/error")),(0,r.kt)("p",null,"A support user fails to log in."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$user_identifier")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"Unique identifier for support user.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$is_verified")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"WP_Error")),(0,r.kt)("td",{parentName:"tr",align:null},"The error encountered when verifying the identifier.")))),(0,r.kt)("p",null,"Can be triggered with the following error codes:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"user_not_found"),": There is no longer an existing support user (perhaps possibly because access has been revoked)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"access_expired"),": Access has expired due to configuration expiration settings")),(0,r.kt)("h3",{id:"trustedloginnamespaceloginafter"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/login/after")),(0,r.kt)("p",null,"A support user has logged-in."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$user_identifier")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"Unique identifier for support user.")))),(0,r.kt)("h3",{id:"trustedloginnamespaceaccesscreated"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/access/created")),(0,r.kt)("p",null,"Access has been granted."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$url")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The site URL from where the access was granted, as returned by ",(0,r.kt)("inlineCode",{parentName:"td"},"get_site_url()"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$action")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The type of trigger: ",(0,r.kt)("inlineCode",{parentName:"td"},"created"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"extended"),", or ",(0,r.kt)("inlineCode",{parentName:"td"},"revoked"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$ref")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string"),",",(0,r.kt)("inlineCode",{parentName:"td"},"null")),(0,r.kt)("td",{parentName:"tr",align:null},"A sanitized reference ID, if passed. Otherwise, null.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$debug_data")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"array")),(0,r.kt)("td",{parentName:"tr",align:null},"(Not always set) An array of site data generated by ",(0,r.kt)("inlineCode",{parentName:"td"},"Client::get_debug_data()"),". Similar to ",(0,r.kt)("inlineCode",{parentName:"td"},"\\WP_Debug_Data::debug_data()")," output with Markdown formatting improvements applied. Added in 1.4.0.")))),(0,r.kt)("h3",{id:"trustedloginnamespaceaccessextended"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/access/extended")),(0,r.kt)("p",null,"Existing access has been extended."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$url")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The site URL from where the webhook was triggered, as returned by ",(0,r.kt)("inlineCode",{parentName:"td"},"get_site_url()"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$action")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The type of trigger: ",(0,r.kt)("inlineCode",{parentName:"td"},"created"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"extended"),", or ",(0,r.kt)("inlineCode",{parentName:"td"},"revoked"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$ref")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string"),",",(0,r.kt)("inlineCode",{parentName:"td"},"null")),(0,r.kt)("td",{parentName:"tr",align:null},"A sanitized reference ID, if passed. Otherwise, null.")))),(0,r.kt)("h3",{id:"trustedloginnamespaceaccessrevoked"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/access/revoked")),(0,r.kt)("p",null,"Access has been revoked."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$url")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The site URL from where the webhook was triggered, as returned by ",(0,r.kt)("inlineCode",{parentName:"td"},"get_site_url()"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$action")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The type of trigger: ",(0,r.kt)("inlineCode",{parentName:"td"},"created"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"extended"),", or ",(0,r.kt)("inlineCode",{parentName:"td"},"revoked"))))),(0,r.kt)("h3",{id:"trustedloginnamespacelogged_in"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/logged_in")),(0,r.kt)("p",null,"A support user has logged-in to a site."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$url")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The site URL from where the webhook was triggered, as returned by ",(0,r.kt)("inlineCode",{parentName:"td"},"get_site_url()"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$action")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"Set to ",(0,r.kt)("inlineCode",{parentName:"td"},"logged_in"))))),(0,r.kt)("h2",{id:"filters"},"Filters"),(0,r.kt)("h3",{id:"trustedloginnamespaceadminmenuslug"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/admin/menu/menu_slug")),(0,r.kt)("p",null,"Override the menu slug used for the Grant Support Access screen. "),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$menu_slug")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'grant-{namespace}-access'")),(0,r.kt)("td",{parentName:"tr",align:null},"Value passed to ",(0,r.kt)("a",{parentName:"td",href:"https://developer.wordpress.org/reference/functions/add_menu_page/"},(0,r.kt)("inlineCode",{parentName:"a"},"add_menu_page()"))," as the ",(0,r.kt)("inlineCode",{parentName:"td"},"$menu_slug")," parameter.")))),(0,r.kt)("h3",{id:"trustedloginnamespacetemplateauth"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/template/auth")),(0,r.kt)("p",null,"Override the structure of the auth form HTML."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$auth_screen_template")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"HTML with placeholders (see below)"),(0,r.kt)("td",{parentName:"tr",align:null},"The structure for the auth form HTML, with placeholders.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<div class="tl-{{ns}}-auth tl-{{ns}}-{{has_access_class}}">\n    {{header}}\n    <section class="tl-{{ns}}-auth__body">\n        <h2 class="tl-{{ns}}-auth__intro">{{intro}}</h2>\n        <div class="tl-{{ns}}-auth__content">\n            <header class="tl-{{ns}}-auth__header">\n                {{auth_header}}\n            </header>\n            <div class="tl-{{ns}}-auth__details">\n                {{details}}\n            </div>\n            <div class="tl-{{ns}}-auth__response" aria-live="assertive"></div>\n            {{notices}}\n            <div class="tl-{{ns}}-auth__actions">\n                {{button}}\n            </div>\n        </div>\n        <div class="tl-{{ns}}-auth__secured_by">{{secured_by_trustedlogin}}</div>\n    </section>\n    <footer class="tl-{{ns}}-auth__footer">\n        {{footer}}\n        {{reference}}\n    </footer>\n</div>\n')),(0,r.kt)("h3",{id:"trustedloginnamespacetemplateauthdisplay_reference"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/template/auth/display_reference")),(0,r.kt)("p",null,"Toggles whether the reference ID, if set, is shown in the auth form. Since Version 1.3."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$display_reference")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"bool")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to display the reference ID on the auth screen.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$is_login_screen")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"bool")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Whether the auth form is being displayed on the login screen. Set by Admin::login_screen().")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$ref")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"The reference ID.")))),(0,r.kt)("h3",{id:"trustedloginnamespacetemplateauthfooter_links"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/template/auth/footer_links")),(0,r.kt)("p",null,"Override the footer links shown below the auth form."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$footer_links")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"array")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[ 'Learn About TrustedLogin' => 'https://www.trustedlogin.com/about/easy-and-safe/', 'Visit {vendor/title} support' => {vendor/support_url} ]")),(0,r.kt)("td",{parentName:"tr",align:null},"Array of links to show in auth footer (Key is anchor text; Value is URL)")))),(0,r.kt)("h3",{id:"trustedloginnamespacesupport_role"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/support_role")),(0,r.kt)("p",null,"Change the name (slug) of the role created for the support user. Will be sanitized using ",(0,r.kt)("inlineCode",{parentName:"p"},"sanitize_title_with_dashes()"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$role_name")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'{namespace}-support'")),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the role, which is more like the slug.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$config")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"TrustedLogin\\Config")),(0,r.kt)("td",{parentName:"tr",align:null},"Current TrustedLogin configuration object"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h3",{id:"trustedloginnamespacesupport_roledisplay_name"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/support_role/display_name")),(0,r.kt)("p",null,"Change the display name of the role created for support users. This will be displayed in the filter menu above the Users table in the Dashboard, as well as in a list of site roles."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$display_name")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'%s Support'")),(0,r.kt)("td",{parentName:"tr",align:null},"A string prepared for localization where ",(0,r.kt)("inlineCode",{parentName:"td"},"%s")," is replaced by the ",(0,r.kt)("inlineCode",{parentName:"td"},"vendor/title"),' configuration setting (for example, "Acme Support").')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$config")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"TrustedLogin\\Config")),(0,r.kt)("td",{parentName:"tr",align:null},"Current TrustedLogin configuration object"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h3",{id:"trustedloginnamespacelicense_key"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/license_key")),(0,r.kt)("p",null,"Modify the license key assigned to the current user. This should ideally be defined using the ",(0,r.kt)("inlineCode",{parentName:"p"},"auth/license_key")," configuration setting.  "),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$license_key")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"null")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"null")),(0,r.kt)("td",{parentName:"tr",align:null},"Get the license key for the current user.")))),(0,r.kt)("h3",{id:"trustedloginnamespacesupport_urlquery_args"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/support_url/query_args")),(0,r.kt)("p",null,"If TrustedLogin fails to grant access to users, a button appears that will link directly to the ",(0,r.kt)("inlineCode",{parentName:"p"},"vendor/support_url")," configuration setting. "),(0,r.kt)("p",null,"This filter exists to modify parameters added to that URL."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$query_args")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"array")),(0,r.kt)("td",{parentName:"tr",align:null},"See default array keys below"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h4",{id:"query_args-array-value"},"$query_args array value"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"query_args/message")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Could not create TrustedLogin access.")),(0,r.kt)("td",{parentName:"tr",align:null},"What error message should be appended to the support URL.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"query_args/ref")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"null")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"null")),(0,r.kt)("td",{parentName:"tr",align:null},"A sanitized reference ID, if passed. Otherwise, null.")))),(0,r.kt)("h3",{id:"trustedloginnamespaceenvelopemeta"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/envelope/meta")),(0,r.kt)("p",null,"Adds custom metadata to be synced via TrustedLogin and stored in the Envelope. ",(0,r.kt)("strong",{parentName:"p"},"Limited to 1MB.")),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"Metadata is transferred and stored in plain text. ",(0,r.kt)("strong",{parentName:"p"},"Do not add any unencrypted sensitive data or identifiable information"),"!")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$metadata")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"array")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[]")," (empty array)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$config")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"TrustedLogin\\Config")),(0,r.kt)("td",{parentName:"tr",align:null},"Current TrustedLogin configuration object")))),(0,r.kt)("h3",{id:"trustedloginnamespaceloggingenabled"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/logging/enabled")),(0,r.kt)("p",null,"Toggles whether logging is enabled. It can be helpful to have a filter to override logging outside the configuration array!"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$is_enabled")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"bool")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether debug logging is enabled in TrustedLogin Client")))),(0,r.kt)("h3",{id:"trustedloginnamespacevendorpublic_keywebsite"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/vendor/public_key/website")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Only use this filter if the ",(0,r.kt)("inlineCode",{parentName:"p"},"vendor/website")," setting is not the same as the website where the TrustedLogin Vendor plugin is running.")),(0,r.kt)("p",null,"If the ",(0,r.kt)("inlineCode",{parentName:"p"},"vendor/website")," setting and the website running the TrustedLogin Vendor plugin are not the same, use this filter."),(0,r.kt)("p",null,"For example, if the ",(0,r.kt)("inlineCode",{parentName:"p"},"vendor/website")," setting is ",(0,r.kt)("inlineCode",{parentName:"p"},"https://www.parentcompany.com")," but TrustedLogin is running on the ",(0,r.kt)("inlineCode",{parentName:"p"},"https://child.parentcompany.com"),", you would use this filter to point to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://child.parentcompany.com"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$public_key_website")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The ",(0,r.kt)("inlineCode",{parentName:"td"},"vendor/website")," configuration setting"),(0,r.kt)("td",{parentName:"tr",align:null},"The root URL of the website where the Vendor plugin is running.")))),(0,r.kt)("h3",{id:"trustedloginnamespacevendorpublic_keyendpoint"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/vendor/public_key/endpoint")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Only use this filter if the REST API endpoint has changed on the Vendor website.")),(0,r.kt)("p",null,"Override the path to TrustedLogin's WordPress REST API endpoint. If there have been customizations to the REST API endpoint structure on the Vendor, the path may need to be modified."),(0,r.kt)("p",null,"For example, if the ",(0,r.kt)("a",{parentName:"p",href:"https://developer.wordpress.org/reference/hooks/rest_url_prefix/"},(0,r.kt)("inlineCode",{parentName:"a"},"rest_url_prefix")," filter is used")," to change the REST API URL from ",(0,r.kt)("inlineCode",{parentName:"p"},"/wp-json/"),", you will need to update the endpoint."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$public_key_endpoint")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"wp-json/trustedlogin/v1/public_key")),(0,r.kt)("td",{parentName:"tr",align:null},"The vendor's signature key REST API endpoint, which will be added to the vendor/website configuration setting.")))),(0,r.kt)("h2",{id:"-advanced-internal-use-only"},"\ud83d\uded1 Advanced Internal Use Only"),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"These filters should not be used in production code. They are included here as helpful developer reference only, and they may change.")),(0,r.kt)("h3",{id:"-you-really-dont-need-these-filters-"},"\ud83d\udeab You really don't need these filters! \ud83d\udeab"),(0,r.kt)("p",null,"Using these filters incorrectly may ",(0,r.kt)("strong",{parentName:"p"},"break everything and make a site insecure"),". They are used for advanced use cases like automated end-to-end testing. They're only included here so our documentation is complete. Only use if you know what you're doing!"),(0,r.kt)("h3",{id:"trustedloginnamespacemeets_ssl_requirement"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/meets_ssl_requirement")),(0,r.kt)("p",null,"Logins will not be synced with TrustedLogin if the site doesn't have proper SSL support. Sometimes, when testing, it's helpful to have a filter to override this behavior."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$return")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"bool")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"is_ssl() && $config['require_ssl']")),(0,r.kt)("td",{parentName:"tr",align:null},"Does this site meet the SSL requirement?")))),(0,r.kt)("h3",{id:"trustedloginnamespaceapi_url"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/api_url")),(0,r.kt)("p",null,"Modifies the endpoint URL for the TrustedLogin service. This allows pointing requests to test servers."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$base_url")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"https://app.trustedlogin.com/api/v1/")),(0,r.kt)("td",{parentName:"tr",align:null},"URL of TrustedLogin API")))),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"These filters should not be used in production code. They are included here as helpful developer reference only, and they may change.")),(0,r.kt)("h3",{id:"trustedloginnamespacevendor_public_key"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/vendor_public_key")),(0,r.kt)("p",null,"Override the public key functions. Encryption will break if this is changed."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$remote_key")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"Varies")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$config")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"TrustedLogin\\Config")),(0,r.kt)("td",{parentName:"tr",align:null},"Current TrustedLogin configuration object")))),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"These filters should not be used in production code. They are included here as helpful developer reference only, and they may change.")),(0,r.kt)("h3",{id:"trustedloginnamespaceoptionsendpoint"},(0,r.kt)("inlineCode",{parentName:"h3"},"trustedlogin/{namespace}/options/endpoint")),(0,r.kt)("p",null,"Modify the namespaced setting name for storing part of the auto-login endpoint. ",(0,r.kt)("strong",{parentName:"p"},"The endpoint value must be treated carefully.")," It is one of the two parts required to log in."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$option_name")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"tl_{namespace}_endpoint"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$config")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"TrustedLogin\\Config")),(0,r.kt)("td",{parentName:"tr",align:null},"Current TrustedLogin configuration object")))))}m.isMDXComponent=!0}}]);